<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>{{ title }}</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="{{description}}" name="description">

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon">
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700" rel="stylesheet">

  <!-- Bootstrap CSS File -->
  <link href="/static/ranking/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Libraries CSS Files 
  <link href="/static/ranking/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  -->

  <!-- Main Stylesheet File -->
  <link href="/static/ranking/css/style.css" rel="stylesheet">

  <!-- =======================================================
    Template Name: Stanley
    Template URL: https://templatemag.com/stanley-bootstrap-freelancer-template/
    Author: TemplateMag.com
    License: https://templatemag.com/license/
  ======================================================= -->
</head>

<body>

  <!-- Static navbar -->
  <div class="navbar navbar-inverse navbar-static-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">テックツイランク</a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="work.html">Work</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </div>

  <div id="ranking_list">

  </div>



  <!-- +++++ Posts Lists +++++ -->
  <!-- +++++ First Post +++++ -->
  <div id="grey">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
          <p><img src="/static/ranking/img/user.png" width="50px" height="50px">
            <ba>Stanley Stinson</ba>
          </p>
          <p>
            <bd>January 18, 2014</bd>
          </p>
          <h4>The Amazing Spiderman</h4>
          <p><b>Spider-Man</b> is a fictional character, a comic book superhero that appears in comic books published by
            Marvel Comics. Created by writer-editor Stan Lee and writer-artist Steve Ditko, he first appeared in Amazing
            Fantasy #15 (cover-dated
            Aug. 1962). </p>
          <p>Lee and Ditko conceived the character as an orphan being raised by his Aunt May and Uncle Ben, and as a
            teenager, having to deal with the normal struggles of adolescence in addition to those of a costumed
            crimefighter.</p>
          <p><a href="blog01.html">Continue Reading...</a></p>
        </div>

      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  <!-- /grey -->

  <!-- +++++ Second Post +++++ -->
  <div id="white">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
          <p><img src="/static/ranking/img/user.png" width="50px" height="50px">
            <ba>Stanley Stinson</ba>
          </p>
          <p>
            <bd>January 3, 2014</bd>
          </p>
          <h4>An Image Post</h4>
          <p><img class="img-responsive" src="img/blog01.jpg" alt=""></p>
          <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
            industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
            scrambled it to make a type specimen book.</p>
          <p><a href="blog01.html">Continue Reading...</a></p>
        </div>

      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  <!-- /white -->

  <!-- +++++ Third Post +++++ -->
  <div id="grey">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
          <p><img src="/static/ranking/img/user.png" width="50px" height="50px">
            <ba>Stanley Stinson</ba>
          </p>
          <p>
            <bd>January 01, 2014</bd>
          </p>
          <h4>Believe In Yourself</h4>
          <p class="bq">"A bird sitting on a tree is never afraid of the branch breaking, because her trust is not in
            the branch, but in her own wings."</p>
        </div>

      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  <!-- /grey -->

  <!-- +++++ Footer Section +++++ -->

  <div id="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <h4>My Bunker</h4>
          <p>
            Some Address 987,<br /> +34 9054 5455, <br /> Madrid, Spain.
          </p>
        </div>
        <!-- /col-lg-4 -->

        <div class="col-lg-4">
          <h4>My Links</h4>
          <p>
            <a href="#">Dribbble</a><br />
            <a href="#">Twitter</a><br />
            <a href="#">Facebook</a>
          </p>
        </div>
        <!-- /col-lg-4 -->

        <div class="col-lg-4">
          <h4>About Stanley</h4>
          <p>This cute theme was created to showcase your work in a simple way. Use it wisely.</p>
        </div>
        <!-- /col-lg-4 -->
      </div>
    </div>
  </div>

  <div id="copyrights">
    <div class="container">
      <p>
        &copy; Copyrights <strong>Stanley</strong>. All Rights Reserved
      </p>
      <div class="credits">
        <!--
          You are NOT allowed to delete the credit link to TemplateMag with free version.
          You can delete the credit link only if you bought the pro version.
          Buy the pro version with working PHP/AJAX contact form: https://templatemag.com/stanley-bootstrap-freelancer-template/
          Licensing information: https://templatemag.com/license/
        -->
        Created with Stanley template by <a href="https://templatemag.com/">TemplateMag</a>
      </div>
    </div>
  </div>
  <!-- / copyrights -->

  <!-- JavaScript Libraries -->
  <script src="/static/ranking/lib/jquery/jquery.min.js"></script>
  <script src="/static/ranking/lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="/static/ranking/lib/php-mail-form/validate.js"></script>
  <script src="/static/ranking/lib/easing/easing.min.js"></script>

  <!-- Template Main Javascript File -->
  <script src="/static/ranking/js/main.js"></script>

  <script>
    url = "https://raw.githubusercontent.com/kawadasatoshi/{{ repo }}/main/{{ htmlname }}"

    htmlname = "{{ htmlname }}"
    console.log("here")
    var jsonDate = []

    var nico_word_cloud = []
    $.getJSON(url, (data) => {
      jsonDate = data.tweet_list

      // ソートの優先するキーと順序のリスト
      // age, name, idの順にソート
      const order = [
        { key: "retweet_count", reverse: true }
      ];


      // ソート関数（デフォルトで昇順）
      function sort_by(list) {
        return (a, b) => {
          for (let i = 0; i < list.length; i++) {
            const order_by = list[i].reverse ? 1 : -1;
            if (a[list[i].key] < b[list[i].key]) return order_by;
            if (a[list[i].key] > b[list[i].key]) return order_by * -1;
          }
          return 0;
        };
      }

      jsonDate.sort(sort_by(order))

      /* imp
      */
     　ordercount  =  0
      for (var count in jsonDate) {
        ordercount++;
        tweet = jsonDate[count]
        console.log(tweet)
        id = tweet.id
        console.log("id", id)
        screen_name = tweet.user.screen_name
        console.log("screen_name", screen_name)


        innnerBase = `
    <div id="white">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2">
          <div class="order_profile">
          <img class="profile_img" src="`+ tweet.user.profile_image_url_https + `" width="80px" height="80px">
          </div>  
          <div class="padding20">
            <h3>`+ 　ordercount + `位</h3>
            <strong>`+ tweet.retweet_count + `</strong>リツイート
            <h3>`+ tweet.user.name + `</h3>
          </div>
          
          
          <div>
          <pre class="bq">`+ tweet.text +
          `</pre>
          
          <bd>` + tweet.created_at + `</bd>
          </div>
        </div>

      </div>
      <!-- /row -->
    </div>
    <!-- /container -->
  </div>
  `

        ranking_list_tag = document.getElementById("ranking_list")
        ranking_list_tag.innerHTML += innnerBase
      }
    })
  </script>

  <style>
    pre {
	border: 1px solid #000 ;
	white-space: pre-wrap ;
}
    .profile_img {
      border-radius: 50%;
    }

    .order_profile {
      padding-right: 30px;
      float: left;
    }

    .padding20 {
      padding: 10px;
    }
  </style>

</body>

</html>